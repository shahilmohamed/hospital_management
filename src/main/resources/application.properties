spring.application.name=hospitalReport

# Server port - Railway sets PORT environment variable
server.port=${PORT:8080}

# Database configuration - Railway provides MYSQLHOST, MYSQLPORT, MYSQLDATABASE, MYSQLUSER, MYSQLPASSWORD
# If DATABASE_URL is provided (Railway format: mysql://user:password@host:port/database), use it
# Otherwise, construct from individual variables
spring.datasource.url=${DATABASE_URL:jdbc:mysql://centerbeam.proxy.rlwy.net:52574/railway?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.username=${MYSQLUSER:${DB_USERNAME:root}}
spring.datasource.password=${MYSQLPASSWORD:${DB_PASSWORD:MpwqIWpBMnyAXFvwTBGuKXDPIqHiJGxd}}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Connection pool settings for production
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000

# JPA/Hibernate configuration
spring.jpa.hibernate.ddl-auto=${HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=${SHOW_SQL:true}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.properties.hibernate.format_sql=false

# JWT Secret - should be set as environment variable in Railway (generate a secure random string)
jwt.secret=${JWT_SECRET:9ae48cf8c8f646daac2f8992ab2710ef1234567890abcdef1234567890abcd}

# CORS configuration - set allowed origins for your frontend (comma-separated for multiple origins)
cors.allowed.origins=${CORS_ALLOWED_ORIGINS:http://localhost:4200,https://shahilmohamed-hospital-frontend.netlify.app,https://subha-hospital.netlify.app}

# Cookie domain configuration - set this if both frontend and backend share a parent domain
# Example: If frontend is app.example.com and backend is api.example.com, set to .example.com
# Leave empty or don't set if using different domains (Railway vs Netlify)
# For cross-domain cookies to work, you need SameSite=None and Secure=true (HTTPS only)
cookie.domain=${COOKIE_DOMAIN:}